package com.mljr.spider.processor;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.google.common.base.Function;
import com.google.common.collect.Lists;
import com.mljr.common.ServiceConfig;
import com.mljr.entity.CCookie;
import com.mljr.entity.QQCookie;
import com.mljr.redis.RedisClient;
import com.mljr.spider.downloader.QQPhantomJSDownloader;
import org.apache.commons.lang3.StringUtils;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;
import org.openqa.selenium.By;
import org.openqa.selenium.Cookie;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.phantomjs.PhantomJSDriver;
import redis.clients.jedis.Jedis;
import us.codecraft.webmagic.Spider;
import us.codecraft.webmagic.pipeline.ConsolePipeline;
import us.codecraft.webmagic.selector.JsonPathSelector;

import javax.annotation.Nullable;
import java.io.IOException;
import java.net.URI;
import java.net.URL;
import java.net.URLEncoder;
import java.util.List;
import java.util.Set;
import java.util.function.Consumer;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * Created by gaoxi on 2017/1/6.
 */
public class QQZoneProcessorTests {

    //qqzone index
    private static final String INDEX_URL = "http://ic2.qzone.qq.com/cgi-bin/feeds/feeds3_html_more?uin=543109152&scope=0&view=1&daylist=&uinlist=&gid=&flag=1&filter=all&applist=all&refresh=0&aisortEndTime=0&aisortOffset=0&getAisort=0&aisortBeginTime=0&pagenum=4&externparam=basetime=1483597405&pagenum=4&dayvalue=0&getadvlast=0&hasgetadv=&lastentertime=0&LastAdvPos=0&UnReadCount=0&firstGetGroup=0&icServerTime=0&mixnocache=0&scene=0&begintime=1483597405&count=10&dayspac=0&sidomain=qzonestyle.gtimg.cn&useutf8=1&outputhtmlfeed=1&rd=0.9117780701875455&g_tk=136936642";


    private static final String QQ_URL="http://taotao.qq.com/cgi-bin/emotion_cgi_homepage_msg?owneruin=995818788&start=0&num=10&code_version=1&need_private_comment=1&format=jsonp&g_tk=723366825";



    private static RedisClient redisClient = ServiceConfig.getSpiderRedisClient();

//    public static void main(String[] args) throws IOException {
//
////
////        testIndex();
//
//        CloseableHttpClient httpClient= HttpClients.createDefault();
//
//        HttpGet httpGet = new HttpGet("https://h5.qzone.qq.com/proxy/domain/ic2.qzone.qq.com/cgi-bin/feeds/feeds_html_act_all?uin=543109152&hostuin=467732755&scope=0&filter=all&flag=1&refresh=0&firstGetGroup=0&mixnocache=0&scene=0&begintime=undefined&icServerTime=&start=10&count=10&sidomain=qzonestyle.gtimg.cn&useutf8=1&outputhtmlfeed=1&refer=2&r=0.3303100147085365&g_tk=771516748");
//
////        httpGet
//
//        httpGet.addHeader("Cookie","pgv_pvid=9583998078; pgv_pvi=5381791744; ptui_loginuin=543109152; pt2gguin=o0543109152; RK=eVdSs/qKdp; ptcz=a817decfb3f47f4544844113bed8b65d0d9e15d4a2536a8ad91a56ffc79a955b; __Q_w_s_hat_seed=1; __Q_w_s__QZN_TodoMsgCnt=1; randomSeed=922889; pgv_si=s7675680768; ptisp=ctc; pgv_info=ssid=s6244692075; Loading=Yes; QZ_FE_WEBP_SUPPORT=0; cpu_performance_v8=23; uin=o0543109152; skey=@8asH8ds46; p_uin=o0543109152; p_skey=s76Z7fEwM7sE3qz3G1vCtiZsbozX03CFYvjUpwNu7JE_; pt4_token=yAL91j4kpYNPFHARiERtc9pd5lPwl0V1RwN88SUyZeg_; rv2=80540EC56B7D0378B3FD88687C48E5194918F437154954518B; property20=DA56611F0BC619B5E730F8BEE4B5567A6A37AB549F1B9B021F57F86F1D070E805A9C88F0D3A6C959");
//
//        httpGet.addHeader("User-Agent","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36");
//
//        CloseableHttpResponse httpResponse=httpClient.execute(httpGet);
//
//        if(httpResponse.getStatusLine().getStatusCode()==200){
//
//            String html= EntityUtils.toString(httpResponse.getEntity());
//
//            String str = ServiceConfig.getSpiderRedisClient().use(new Function<Jedis, String>() {
//                @Override
//                public String apply(Jedis jedis) {
//                    return jedis.set("QQQQQ",html);
//                }
//            });
//
//           String json = getJsonFromJsonp(html);
//
//            System.out.println(json);
//
//            String sss = new JsonPathSelector("$.data.main").select(json).toString();
//            System.out.println(sss);
//        }
//
//    }

    public static void testIndex() {
        Spider spider = Spider.create(new QQZoneIndexProcessor())
                .addUrl("http://172.28.45.161:8080/v1/user").addPipeline(new ConsolePipeline());
        spider.runAsync();

    }


    public static String getJsonFromJsonp(String jsonp) {
        Pattern pattern = Pattern.compile("\\x3C");
        Matcher matcher = pattern.matcher(jsonp);
        while (matcher.find()) {
            return matcher.group(1);
        }
        return null;
    }

    public static void main(String[] args) {
//        String html=ServiceConfig.getSpiderRedisClient().use(new Function<Jedis, String>() {
//            @Override
//            public String apply(Jedis jedis) {
//                return jedis.get("QQQQQ");
//            }
//        });
//
//        String json = getJsonFromJsonp(html);
//
//        System.out.println();

        String html = "\\x3Cli class=\\x22f-single f-s-s\\x22 id=\\x22fct_467732755_311_0_1469165060_0_1\\x22>\\x3Cdiv class=\\x22f-aside\\x22>    \\x3Cdiv class=\\x22f-user-pto\\x22>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\x22 target=\\x22_blank\\x22 class=\\x22f-user-avatar q_namecard f-s-a\\x22 link=\\x22nameCard_467732755\\x22 data-clicklog=\\x22avatar\\x22 style=\\x22background-image: url(http:\\/\\/qlogo4.store.qq.com\\/qzone\\/467732755\\/467732755\\/50?1410266421); background-image: -webkit-image-set(url(http:\\/\\/qlogo4.store.qq.com\\/qzone\\/467732755\\/467732755\\/50?1410266421) 1x,url(http:\\/\\/qlogo4.store.qq.com\\/qzone\\/467732755\\/467732755\\/100) 2x);\\x22>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22f-user-info\\x22>\\x3Cdiv class=\\x22f-nick\\x22>\\x3Ca target=\\x22_blank\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\x22  data-clicklog=\\x22nick\\x22 class=\\x22f-name q_namecard \\x22 link=\\x22nameCard_467732755\\x22>Nicky\\x3C\\/a>  \\x3Ca href=\\x22javascript:;\\x22 data-cmd=\\x22qz_sign\\x22 class=\\x22f-sign-show state\\x22 title=\\x22我也要设置\\x22>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22info-detail\\x22>\\x3Cspan  class=\\x22 ui-mr8 state\\x22 >2016年7月22日 13:24\\x3C\\/span>\\x3Cspan class=\\x22state ui-mr10\\x22>\\x3Ca href=\\x22javascript:;\\x22 class=\\x22state qz_feed_plugin\\x22 data-role=\\x22Visitor\\x22 data-config=\\x22311|1309e11b04ae9157842a0100|467732755\\x22 data-clicklog=\\x22visitor\\x22>\\x3Ci class=\\x22ui-icon icon-browse\\x22>\\x3C\\/i>浏览(215)\\x3C\\/a>\\x3C\\/span>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3Cdiv class=\\x22f-wrap\\x22>\\x3Cdiv class=\\x22f-item f-s-i\\x22 id=\\x22feed_467732755_311_0_1469165060_0_1\\x22 data-feedsflag=\\x22\\x22 data-iswupfeed=\\x221\\x22 data-key=\\x221309e11b04ae9157842a0100\\x22 data-specialtype=\\x22\\x22 data-extend-info=\\x220_0_0_0_0_0_0|188095a50140a209|0000000000000001\\x22 data-functype=\\x22\\x22 data-hasfollowed=\\x221\\x22>\\x3Cdiv class=\\x22f-info\\x22>愿我大天门一切安好！\\x3Cimg src=\\x22http:\\/\\/qzonestyle.gtimg.cn\\/qzone\\/em\\/e328591.gif\\x22 title=\\x22\\x22\\/>\\x3Cimg src=\\x22http:\\/\\/qzonestyle.gtimg.cn\\/qzone\\/em\\/e328591.gif\\x22 title=\\x22\\x22\\/>\\x3Cimg src=\\x22http:\\/\\/qzonestyle.gtimg.cn\\/qzone\\/em\\/e328591.gif\\x22 title=\\x22\\x22\\/>\\x3C\\/div>\\x3Cdiv class=\\x22qz_summary wupfeed\\x22 id=\\x22hex_467732755_311_0_1469165060_0_1\\x22>\\x3Ci class=\\x22none\\x22 name=\\x22feed_data\\x22  data-bitmap=\\x22188095a50140a209\\x22 data-yybitmap=\\x220000000000000001\\x22 data-vipstarbitmap=\\x222f00000000000000\\x22 data-fkey=\\x221309e11b04ae9157842a0100\\x22 data-tid=\\x221309e11b04ae9157842a0100\\x22 data-uin=\\x22467732755\\x22 data-origfkey=\\x22\\x22 data-origtid=\\x221309e11b04ae9157842a0100\\x22 data-origuin=\\x22467732755\\x22 data-subid=\\x22\\x22 data-totweet=\\x22\\x22 data-issignin=\\x22\\x22 data-source=\\x22\\x22 data-retweetcount=\\x221\\x22 data-stat=\\x2275p2HcTdgjw5SptZ\\/MVA6YNV2fkEq6y0mC1HF6m0TFfwgQ13W5hy3iAych1rdY\\/e4nTIBXS9rYNizrRLxpA33HgKCQNl!Km\\/23r2pZ7MeiNNCI4x7nsAqh4LgB9Tj9sP\\/wJP7D8UeMNdDWowKmWSlDO!5XZ\\/Tv\\/Am1skWISEcD8hGf4B!8LkXVT6\\/BEW55MZ_\\x22   data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22    data-feedstype=\\x22100\\x22  data-abstime=\\x221469165060\\x22   data-iswupfeed=\\x221\\x22  data-platformid=\\x2254\\x22  data-accessright=\\x221\\x22 data-csnew=\\x221\\x22 >\\x3C\\/i>\\x3Cdiv class=\\x22f-ct \\x22>\\x3Cdiv class=\\x22f-ct-txtimg  img-box-row-wrap\\x22>\\x3Cdiv class=\\x22txt-box \\x22>                                    \\x3C\\/div>\\x3Cdiv class=\\x22img-box img-box-row\\x22>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVfrNawsAwEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_0\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|0\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22600\\x22 data-height=\\x22800\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b259.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/Wct5.S.SLlwcvP1CSuMuIg4hHj.onBm468pxD*o5pmw!\\/m\\/dAMBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=WAIgAwAAAAAAAF8!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVfPlkosBQEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_1\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|1\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22600\\x22 data-height=\\x22800\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b261.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/ziETkQQjR7i1F9W.CorGAhuk5BxPxTnqojb2bGw51F8!\\/m\\/dAUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=WAIgAwAAAAAAAF8!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVdRQKgtBwEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_2\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|2\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22960\\x22 data-height=\\x221280\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b263.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/JAArf4ZlwTaB039pebvR96ChfclshWU0RjbaJjrkpMg!\\/m\\/dAcBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=wAMABQAAAAAAAOA!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22img-box img-box-row\\x22>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVeHrLwtWAEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_3\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|3\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22960\\x22 data-height=\\x221280\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b344.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/OtLdIkjaVS*0QCabLqPlY8m85p0ZNh4hXhE4opJnbN0!\\/m\\/dFgBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=wAMABQAAAAAAAOA!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVfM*tAuBwEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_4\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|4\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22960\\x22 data-height=\\x221280\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b263.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/zdA4lqbkefsoWwzXXIM.o64d18afZBIJvJdykLL*orw!\\/m\\/dAcBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=wAMABQAAAAAAAOA!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVeHPUwrAwEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_5\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|5\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22960\\x22 data-height=\\x221280\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b259.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/0qE.PKsDaU.W8At0X0tHuJtoAlIkdVtvw9NEg2C*rb8!\\/m\\/dAMBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=wAMABQAAAAAAAOA!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22img-box img-box-row\\x22>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVfDgR4sAwEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_6\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|6\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22600\\x22 data-height=\\x22800\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b259.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/mGHqEAfnLQeKVADgusoMLvDFMIbOy7ZsYwGoElpMEHs!\\/m\\/dAMBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=WAIgAwAAAAAAAF8!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVexAtguBQEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_7\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|7\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22960\\x22 data-height=\\x221280\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b261.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/56z75howCFQAoZ0noQQGDffvXFVDa56Nu3s4tXN5tzA!\\/m\\/dAUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=wAMABQAAAAAAAOA!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3Ca data-cmd=\\x22qz_popup\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/311\\/\\x22   class=\\x22  qz_ichotclick   img-three  \\x22 data-topicid=\\x22467732755_1309e11b04ae9157842a0100__1\\x22 data-pickey=\\x221309e11b04ae9157842a0100,467732755,V13rZnSo0ttB5U,NDR0EwnhGwSukVd9RR8sBwEAAAAAAAA!\\x22 data-clicklog=\\x22pic\\x22 data-originurl=\\x22||\\x22 hotclickPath=\\x220_appid_311_v8.pic_count_9.pic_8\\x22 hotdomain=\\x22icv6act.qzone.qq.com\\x22 data-version=\\x222\\x22 data-param=\\x221309e11b04ae9157842a0100|467732755|8\\x22 data-src=\\x22\\/qzone\\/photo\\/zone\\/icenter_popup.html\\x22 data-width=\\x22960\\x22 data-height=\\x221280\\x22 data-type=\\x22popup\\x22 data-title=\\x22\\x22 data-config=\\x22\\x22>\\x3Cimg src=\\x22http:\\/\\/b263.photo.store.qq.com\\/psb?\\/V13rZnSo0ttB5U\\/ue001nKYYxKFYNN3HH6SVjdDwWbzS1aDKlYFPilee6Y!\\/m\\/dAcBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=wAMABQAAAAAAAOA!&amp;tm=1483941600&amp;sce=60-3-3&amp;rf=0-0\\x22  style=\\x22margin-left:0px;margin-top:-52px;height:242px;width:182px;\\x22\\/>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3Cdiv class=\\x22f-op-wrap\\x22>\\x3Cp class=\\x22f-detail\\x22>&nbsp;\\x3Ca href=\\x22javascript:;\\x22 data-version=\\x226.3\\x22 data-cmd=\\x22qz_reply\\x22 data-link=\\x221\\x22 data-clicklog=\\x22comment\\x22  class=\\x22 qz_btn_reply item \\x22>\\x3Ci class=\\x22ui-icon icon-comment\\x22>\\x3C\\/i>评论(5)\\x3C\\/a>&nbsp;\\x3Cspan class=\\x22item-line\\x22>\\x3C\\/span>\\x3Ca class=\\x22item qz_retweet_btn \\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_popup\\x22 data-version=\\x224\\x22 data-isnewtype=\\x221\\x22 data-type=\\x22ForwardingBox\\x22 data-src=\\x22\\/qzone\\/app\\/controls\\/forwardingBox\\/forwardingBoxFacade.js\\x22 data-clicklog=\\x22retweet\\x22 >\\x3Ci class=\\x22ui-icon icon-forward\\x22>\\x3C\\/i>转发(1)\\x3C\\/a>\\x3Cspan class=\\x22item-line\\x22>\\x3C\\/span>\\x3Ca class=\\x22item qz_like_btn_v3\\x22 data-islike=\\x220\\x22 data-likecnt=\\x223\\x22 data-showcount=\\x222\\x22 data-unikey=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/mood\\/1309e11b04ae9157842a0100\\x22 data-curkey=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/mood\\/1309e11b04ae9157842a0100\\x22 data-clicklog=\\x22like\\x22 href=\\x22javascript:;\\x22>\\x3Ci class=\\x22ui-icon icon-praise\\x22>\\x3C\\/i>赞(3)\\x3C\\/a>\\x3Cspan class=\\x22item-line\\x22>\\x3C\\/span>\\x3Ca class=\\x22item \\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_opr_collect\\x22 data-clicklog=\\x22collect\\x22>\\x3Ci class=\\x22ui-icon icon-feed-collect\\x22>\\x3C\\/i>收藏\\x3C\\/a>\\x3Cspan class=\\x22item-line\\x22>\\x3C\\/span>\\x3Ca class=\\x22item item-sp none\\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_opr_more\\x22>\\x3Ci class=\\x22ui-icon icon-more\\x22>\\x3C\\/i>\\x3C\\/a>\\x3C\\/p>\\x3Cdiv class=\\x22f-ang-t\\x22>\\x3C\\/div>\\x3Cdiv class=\\x22f-like _likeInfo\\x22 likeinfo=\\x222\\x22>\\x3Cdiv class=\\x22icon-btn\\x22>\\x3Ca href=\\x22javascript:;\\x22 data-islike=\\x220\\x22 data-likecnt=\\x223\\x22 data-showcount=\\x222\\x22 data-unikey=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/mood\\/1309e11b04ae9157842a0100\\x22 data-curkey=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/mood\\/1309e11b04ae9157842a0100\\x22 data-clicklog=\\x22like\\x22 class=\\x22praise qz_like_prase\\x22>\\x3Ci class=\\x22ui-icon icon-praise\\x22>\\x3C\\/i>\\x3C\\/a>\\x3Cdiv class=\\x22bubble\\x22 style=\\x22display:none;\\x22>\\x3Cdiv class=\\x22bd\\x22>+1\\x3C\\/div>\\x3Cb class=\\x22arrow arrow-down\\x22>\\x3C\\/b>\\x3C\\/div>\\x3C\\/div>\\x3Cdiv class=\\x22user-list\\x22>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/122594520\\x22 class=\\x22item\\x22 target=\\x22_blank\\x22>\\x3Cimg class=\\x22q_namecard\\x22 link=\\x22nameCard_122594520 des_122594520\\x22 alt=\\x22Ing ~ Hz\\x22 src=\\x22http:\\/\\/qlogo1.store.qq.com\\/qzone\\/122594520\\/122594520\\/30\\x22 \\/>\\x3C\\/a>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/389873435\\x22 class=\\x22item\\x22 target=\\x22_blank\\x22>\\x3Cimg class=\\x22q_namecard\\x22 link=\\x22nameCard_389873435 des_389873435\\x22 alt=\\x22静待花开\\x22 src=\\x22http:\\/\\/qlogo4.store.qq.com\\/qzone\\/389873435\\/389873435\\/30\\x22 \\/>\\x3C\\/a>\\x3Ca href=\\x22javascript:;\\x22 class=\\x22more _showLikeList\\x22 data-unikey=\\x22http:\\/\\/user.qzone.qq.com\\/467732755\\/mood\\/1309e11b04ae9157842a0100\\x22 title=\\x22等3人都觉得很赞\\x22>\\x3Ci class=\\x22ui-icon icon-more\\x22>\\x3C\\/i>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3Cdiv class=\\x22mod-comments\\x22>\\x3Cdiv class=\\x22comments-list \\x22>\\x3Cul>\\x3Cli class=\\x22comments-item bor3\\x22 data-type=\\x22commentroot\\x22 data-tid=\\x221\\x22 data-uin=\\x22790555726\\x22 data-nick=\\x22碧海蓝天\\x22 data-who=\\x221\\x22>\\x3Cdiv class=\\x22comments-item-bd\\x22>\\x3Cdiv class=\\x22ui-avatar\\x22>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/790555726\\x22 target=\\x22_blank\\x22>\\x3Cimg class=\\x22q_namecard\\x22 link=\\x22nameCard_790555726 des_790555726\\x22 alt=\\x22碧海蓝天\\x22 src=\\x22http:\\/\\/qlogo3.store.qq.com\\/qzone\\/790555726\\/790555726\\/30\\x22 \\/>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22comments-content\\x22>&nbsp;\\x3Ca class=\\x22c_tx q_namecard\\x22  link=\\x22nameCard_790555726\\x22 target=\\x22_blank\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/790555726\\x22>碧海蓝天\\x3C\\/a>&nbsp; : 好大的水\\x3Cdiv class=\\x22comments-op\\x22>\\x3Cspan  class=\\x22 ui-mr10 state\\x22 >2016年7月22日 13:30\\x3C\\/span>\\x3Ca class=\\x22act-reply\\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_reply\\x22 data-version=\\x226.2\\x22 data-action=\\x22http:\\/\\/taotao.qq.com\\/cgi-bin\\/emotion_cgi_re_feeds\\x22 data-param=\\x22t1_source=&amp;t1_uin=467732755&amp;t1_tid=1309e11b04ae9157842a0100&amp;t2_uin=790555726&amp;t2_tid=1&amp;subdotype=55702&amp;signin=0&amp;sceneid=100\\x22 data-charset=\\x22utf-8\\x22 data-tuin=\\x22\\x22 data-config=\\x221|1|1|0|1,taotaoact.qzone.qq.com,@InputReply|1,taotaoact.qzone.qq.com,@ClickReply|1,taotaoact.qzone.qq.com,commentPresentClick\\x22>\\x3Cb class=\\x22hide-clip\\x22>回复\\x3C\\/b>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/li>\\x3Cli class=\\x22comments-item bor3\\x22 data-type=\\x22commentroot\\x22 data-tid=\\x222\\x22 data-uin=\\x22389873435\\x22 data-nick=\\x22静待花开\\x22 data-who=\\x221\\x22>\\x3Cdiv class=\\x22comments-item-bd\\x22>\\x3Cdiv class=\\x22ui-avatar\\x22>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/389873435\\x22 target=\\x22_blank\\x22>\\x3Cimg class=\\x22q_namecard\\x22 link=\\x22nameCard_389873435 des_389873435\\x22 alt=\\x22静待花开\\x22 src=\\x22http:\\/\\/qlogo4.store.qq.com\\/qzone\\/389873435\\/389873435\\/30\\x22 \\/>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22comments-content\\x22>&nbsp;\\x3Ca class=\\x22c_tx q_namecard\\x22  link=\\x22nameCard_389873435\\x22 target=\\x22_blank\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/389873435\\x22>静待花开\\x3C\\/a>&nbsp; : 天门哪里的？\\x3Cdiv class=\\x22comments-op\\x22>\\x3Cspan  class=\\x22 ui-mr10 state\\x22 >2016年7月22日 13:37\\x3C\\/span>\\x3Ca class=\\x22act-reply\\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_reply\\x22 data-version=\\x226.2\\x22 data-action=\\x22http:\\/\\/taotao.qq.com\\/cgi-bin\\/emotion_cgi_re_feeds\\x22 data-param=\\x22t1_source=&amp;t1_uin=467732755&amp;t1_tid=1309e11b04ae9157842a0100&amp;t2_uin=389873435&amp;t2_tid=2&amp;subdotype=55702&amp;signin=0&amp;sceneid=100\\x22 data-charset=\\x22utf-8\\x22 data-tuin=\\x22\\x22 data-config=\\x221|1|1|0|1,taotaoact.qzone.qq.com,@InputReply|1,taotaoact.qzone.qq.com,@ClickReply|1,taotaoact.qzone.qq.com,commentPresentClick\\x22>\\x3Cb class=\\x22hide-clip\\x22>回复\\x3C\\/b>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/li>\\x3Cli class=\\x22comments-item bor3\\x22 data-type=\\x22commentroot\\x22 data-tid=\\x223\\x22 data-uin=\\x22121454286\\x22 data-nick=\\x22.\\x22 data-who=\\x221\\x22>\\x3Cdiv class=\\x22comments-item-bd\\x22>\\x3Cdiv class=\\x22ui-avatar\\x22>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/121454286\\x22 target=\\x22_blank\\x22>\\x3Cimg class=\\x22q_namecard\\x22 link=\\x22nameCard_121454286 des_121454286\\x22 alt=\\x22.\\x22 src=\\x22http:\\/\\/qlogo3.store.qq.com\\/qzone\\/121454286\\/121454286\\/30\\x22 \\/>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22comments-content\\x22>&nbsp;\\x3Ca class=\\x22c_tx q_namecard\\x22  link=\\x22nameCard_121454286\\x22 target=\\x22_blank\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/121454286\\x22>.\\x3C\\/a>&nbsp; : 可以回去捉鱼了啊\\x3Cdiv class=\\x22comments-op\\x22>\\x3Cspan  class=\\x22 ui-mr10 state\\x22 >2016年7月22日 15:01\\x3C\\/span>\\x3Ca class=\\x22act-reply\\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_reply\\x22 data-version=\\x226.2\\x22 data-action=\\x22http:\\/\\/taotao.qq.com\\/cgi-bin\\/emotion_cgi_re_feeds\\x22 data-param=\\x22t1_source=&amp;t1_uin=467732755&amp;t1_tid=1309e11b04ae9157842a0100&amp;t2_uin=121454286&amp;t2_tid=3&amp;subdotype=55702&amp;signin=0&amp;sceneid=100\\x22 data-charset=\\x22utf-8\\x22 data-tuin=\\x22\\x22 data-config=\\x221|1|1|0|1,taotaoact.qzone.qq.com,@InputReply|1,taotaoact.qzone.qq.com,@ClickReply|1,taotaoact.qzone.qq.com,commentPresentClick\\x22>\\x3Cb class=\\x22hide-clip\\x22>回复\\x3C\\/b>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/li>\\x3Cli class=\\x22comments-item bor3\\x22 data-type=\\x22commentroot\\x22 data-tid=\\x224\\x22 data-uin=\\x2283158093\\x22 data-nick=\\x22ABCD\\x22 data-who=\\x221\\x22>\\x3Cdiv class=\\x22comments-item-bd\\x22>\\x3Cdiv class=\\x22ui-avatar\\x22>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/83158093\\x22 target=\\x22_blank\\x22>\\x3Cimg class=\\x22q_namecard\\x22 link=\\x22nameCard_83158093 des_83158093\\x22 alt=\\x22ABCD\\x22 src=\\x22http:\\/\\/qlogo2.store.qq.com\\/qzone\\/83158093\\/83158093\\/30\\x22 \\/>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22comments-content\\x22>&nbsp;\\x3Ca class=\\x22c_tx q_namecard\\x22  link=\\x22nameCard_83158093\\x22 target=\\x22_blank\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/83158093\\x22>ABCD\\x3C\\/a>&nbsp; : 一看就不太好\\x3Cdiv class=\\x22comments-op\\x22>\\x3Cspan  class=\\x22 ui-mr10 state\\x22 >2016年7月22日 23:42\\x3C\\/span>\\x3Ca class=\\x22act-reply\\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_reply\\x22 data-version=\\x226.2\\x22 data-action=\\x22http:\\/\\/taotao.qq.com\\/cgi-bin\\/emotion_cgi_re_feeds\\x22 data-param=\\x22t1_source=&amp;t1_uin=467732755&amp;t1_tid=1309e11b04ae9157842a0100&amp;t2_uin=83158093&amp;t2_tid=4&amp;subdotype=55702&amp;signin=0&amp;sceneid=100\\x22 data-charset=\\x22utf-8\\x22 data-tuin=\\x22\\x22 data-config=\\x221|1|1|0|1,taotaoact.qzone.qq.com,@InputReply|1,taotaoact.qzone.qq.com,@ClickReply|1,taotaoact.qzone.qq.com,commentPresentClick\\x22>\\x3Cb class=\\x22hide-clip\\x22>回复\\x3C\\/b>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/li>\\x3Cli class=\\x22comments-item bor3\\x22 data-type=\\x22commentroot\\x22 data-tid=\\x225\\x22 data-uin=\\x22347746779\\x22 data-nick=\\x22季末\\x22 data-who=\\x221\\x22>\\x3Cdiv class=\\x22comments-item-bd\\x22>\\x3Cdiv class=\\x22ui-avatar\\x22>\\x3Ca href=\\x22http:\\/\\/user.qzone.qq.com\\/347746779\\x22 target=\\x22_blank\\x22>\\x3Cimg class=\\x22q_namecard\\x22 link=\\x22nameCard_347746779 des_347746779\\x22 alt=\\x22季末\\x22 src=\\x22http:\\/\\/qlogo4.store.qq.com\\/qzone\\/347746779\\/347746779\\/30\\x22 \\/>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22comments-content\\x22>&nbsp;\\x3Ca class=\\x22c_tx q_namecard\\x22  link=\\x22nameCard_347746779\\x22 target=\\x22_blank\\x22 href=\\x22http:\\/\\/user.qzone.qq.com\\/347746779\\x22>季末\\x3C\\/a>&nbsp; : 还在下吗\\x3Cdiv class=\\x22comments-op\\x22>\\x3Cspan  class=\\x22 ui-mr10 state\\x22 >2016年7月23日 06:43\\x3C\\/span>\\x3Ca class=\\x22act-reply\\x22 href=\\x22javascript:;\\x22 data-cmd=\\x22qz_reply\\x22 data-version=\\x226.2\\x22 data-action=\\x22http:\\/\\/taotao.qq.com\\/cgi-bin\\/emotion_cgi_re_feeds\\x22 data-param=\\x22t1_source=&amp;t1_uin=467732755&amp;t1_tid=1309e11b04ae9157842a0100&amp;t2_uin=347746779&amp;t2_tid=5&amp;subdotype=55702&amp;signin=0&amp;sceneid=100\\x22 data-charset=\\x22utf-8\\x22 data-tuin=\\x22\\x22 data-config=\\x221|1|1|0|1,taotaoact.qzone.qq.com,@InputReply|1,taotaoact.qzone.qq.com,@ClickReply|1,taotaoact.qzone.qq.com,commentPresentClick\\x22>\\x3Cb class=\\x22hide-clip\\x22>回复\\x3C\\/b>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/li>\\x3C\\/ul>\\x3C\\/div>\\x3Cdiv class=\\x22mod-commnets-poster feedClickCmd comment_default_inputentry\\x22 data-cmd=\\x22qz_reply\\x22 data-version=\\x226\\x22 data-action=\\x22http:\\/\\/taotao.qq.com\\/cgi-bin\\/emotion_cgi_re_feeds\\x22 data-param=\\x22t1_source=&amp;t1_uin=467732755&amp;t1_tid=1309e11b04ae9157842a0100&amp;signin=0&amp;sceneid=100\\x22 data-charset=\\x22utf-8\\x22 data-maxLength=\\x22\\x22 data-tuin=\\x22467732755\\x22 data-config=\\x221|1|1|1,b52,with_fwd,同时转发;0|1,taotaoact.qzone.qq.com,@InputReply|1,taotaoact.qzone.qq.com,@ClickReply|1,taotaoact.qzone.qq.com,commentPresentClick\\x22  data-tid=\\x22\\x22 >\\x3Cdiv class=\\x22comments-poster-bd comments-poster-default\\x22>\\x3Cdiv class=\\x22comments-box\\x22 data-clicklog=\\x22comment\\x22>\\x3Cdiv class=\\x22textinput textinput-default bor2\\x22 alt=\\x22replybtn\\x22 placeholder=\\x22我也说一句\\x22>\\x3Ca class=\\x22c_tx3\\x22 href=\\x22javascript:void(0);\\x22 alt=\\x22replybtn\\x22>我也说一句\\x3C\\/a>\\x3C\\/div> \\x3Cdiv class=\\x22mod-insert-img bor2\\x22>\\x3Ca href=\\x22javascript:;\\x22 data-cmd=\\x22qz_quick_upload_img\\x22 class=\\x22btn-insert-img bg\\x22>\\x3Ci class=\\x22icon-camera-16\\x22>\\x3C\\/i>\\x3C\\/a>\\x3C\\/div>\\x3Cdiv class=\\x22mod-quick-comment bor2\\x22>\\x3Ca href=\\x22javascript:;\\x22 data-cmd=\\x22qz_quick_reply\\x22 class=\\x22btn-quick-comment bg\\x22>\\x3Ci class=\\x22icon-flash\\x22>\\x3C\\/i>\\x3Cspan class=\\x22flash-text c_tx3\\x22>快评\\x3C\\/span>\\x3C\\/a>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/div>\\x3C\\/li>" ;



        String n = StringUtils.replaceEach(html, new String[] {"\\x3C", "\\x22" }, new String[] { "<", "\"" });
        String result=StringUtils.replaceEach(n,new String[]{"\\/"},new String[]{"/"});
        System.out.println(result);


    }



}
